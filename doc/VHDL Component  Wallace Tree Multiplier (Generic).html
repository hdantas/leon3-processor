<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0083)http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml" dir="ltr" lang="en" id="vbulletin_html"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<!--<base href="http://www.openhdl.com/">--><base href="."><!--[if IE]></base><![endif]-->
	<link rel="canonical" href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/VHDL Component  Wallace Tree Multiplier (Generic).html">

<meta id="e_vb_meta_bburl" name="vb_meta_bburl" content="http://www.openhdl.com">

<meta name="generator" content="vBulletin 4.2.0">

	<link rel="Shortcut Icon" href="http://www.openhdl.com/favicon.ico" type="image/x-icon">






	<meta property="fb:app_id" content="106570509469266">
<meta property="og:site_name" content="OpenHDL - Verilog and VHDL Discussion Forums">
<meta property="og:description" content="Discuss Verilog and VHDL and see reference designs for expert and beginner HDL programmers.">
<meta property="og:url" content="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html">
<meta property="og:type" content="article">
<meta property="og:image" content="http://www.openhdl.com/images/openhdl_facebook.png">




	
		<script type="text/javascript" async="" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/ga.js"></script><script type="text/javascript" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/yuiloader-dom-event.js"></script><style class="flashcontrol" type="text/css">object[type$="x-shockwave-flash"]:not([classid]),object[type$="futuresplash"]:not([classid]),embed[type$="x-shockwave-flash"],embed[type$="futuresplash"]{display:none !important}</style>
	

<script type="text/javascript">
<!--
	if (typeof YAHOO === 'undefined') // Load ALL YUI Local
	{
		document.write('<script type="text/javascript" src="http://www.openhdl.com/clientscript/yui/yuiloader-dom-event/yuiloader-dom-event.js?v=420"><\/script>');
		document.write('<script type="text/javascript" src="http://www.openhdl.com/clientscript/yui/connection/connection-min.js?v=420"><\/script>');
		var yuipath = 'clientscript/yui';
		var yuicombopath = '';
		var remoteyui = false;
	}
	else	// Load Rest of YUI remotely (where possible)
	{
		var yuipath = 'http://ajax.googleapis.com/ajax/libs/yui/2.8.2/build';
		var yuicombopath = '';
		var remoteyui = true;
		if (!yuicombopath)
		{
			document.write('<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/yui/2.8.2/build/connection/connection-min.js"><\/script>');
		}
	}
	var SESSIONURL = "";
	var SECURITYTOKEN = "guest";
	var IMGDIR_MISC = "images/styles/DeFraction/misc";
	var IMGDIR_BUTTON = "images/styles/DeFraction/buttons";
	var vb_disable_ajax = parseInt("0", 10);
	var SIMPLEVERSION = "420";
	var BBURL = "http://www.openhdl.com";
	var LOGGEDIN = 0 > 0 ? true : false;
	var THIS_SCRIPT = "showthread";
	var RELPATH = "showthread.php?t=655";
	var PATHS = {
		forum : "",
		cms   : "",
		blog  : ""
	};
	var AJAXBASEURL = "http://www.openhdl.com/";
// -->
</script><script type="text/javascript" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/connection-min.js"></script><style type="text/css"></style>
<script type="text/javascript" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/vbulletin-core.js"></script>





	<link rel="stylesheet" type="text/css" href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/main-rollup.css">
        

	<!--[if lt IE 8]>
	<link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/popupmenu-ie.css?d=1367078190" />
	<link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/vbulletin-ie.css?d=1367078190" />
	<link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/vbulletin-chrome-ie.css?d=1367078190" />
	<link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/vbulletin-formcontrols-ie.css?d=1367078190" />
	<link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/editor-ie.css?d=1367078190" />
	<![endif]-->


	<meta name="keywords" content="VHDL,Component,Wallace,Tree,Multiplier,Generic,xilinx, today, testbench, vhdlcoder, simulations, generic, multiplier, component, wallace, waveforms, modelsim">
	<meta name="description" content="Hi everyone! Today, I&#39;m going to illustrate the construction and VHDL code of a generic coded Wallace tree multiplier. The Wallace tree multiplier is">

	<title> VHDL Component: Wallace Tree Multiplier (Generic)</title>
	<link rel="canonical" href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/VHDL Component  Wallace Tree Multiplier (Generic).html">
	
	
	
	
	
	
	
	
	
		<script type="text/javascript" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/vbulletin_lightbox.js"></script>
	

	
		<link rel="stylesheet" type="text/css" href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/showthread-rollup.css">
	
	<!--[if lt IE 8]><link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/toolsmenu-ie.css?d=1367078190" />
	<link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/postlist-ie.css?d=1367078190" />
	<link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/showthread-ie.css?d=1367078190" />
	<link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/postbit-ie.css?d=1367078190" />
	<link rel="stylesheet" type="text/css" href="http://www.openhdl.com/clientscript/vbulletin_css/style00008l/poll-ie.css?d=1367078190" /><![endif]-->
<link rel="stylesheet" type="text/css" href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/additional.css">

<link rel="stylesheet" type="text/css" href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/css.php">

<script type="text/javascript">
//<![CDATA[

window.google_analytics_uacct = "UA-12206852-1";


//]]>
</script>
<script id="facebook-jssdk" async="" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/all.js"></script><style type="text/css">@media print { #feedlyMiniIcon { display: none; } }</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}
.fb_invisible{display:none}
.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}
.fb_reset > div{overflow:hidden}
.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}
.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}
.fb_dialog_content{background:#fff;color:#333}
.fb_dialog_close_icon{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\9;right:7px\9}
.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}
.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}
.fb_dialog_close_icon:hover{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}
.fb_dialog_close_icon:active{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}
.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}
.fb_dialog_top_left,
.fb_dialog_top_right,
.fb_dialog_bottom_left,
.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}
/* @noflip */
.fb_dialog_top_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}
/* @noflip */
.fb_dialog_top_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}
/* @noflip */
.fb_dialog_bottom_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}
/* @noflip */
.fb_dialog_bottom_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}
.fb_dialog_vert_left,
.fb_dialog_vert_right,
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}
.fb_dialog_vert_left,
.fb_dialog_vert_right{width:10px;height:100%}
.fb_dialog_vert_left{margin-left:-10px}
.fb_dialog_vert_right{right:0;margin-right:-10px}
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{width:100%;height:10px}
.fb_dialog_horiz_top{margin-top:-10px}
.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}
.fb_dialog_iframe{line-height:0}
.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}
.fb_dialog_content .dialog_title > span{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif)
no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}
body.fb_hidden{-webkit-transform:none;height:100%;margin:0;left:-10000px;overflow:visible;position:absolute;top:-10000px;width:100%
}
.fb_dialog.fb_dialog_mobile.loading{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif)
white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}
.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}
#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}
#fb-root #fb_dialog_ipad_overlay.hidden{display:none}
.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}
.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0 0, 0 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}
.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%
}
.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0 0, 0 100%, from(#4966A6),
color-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,
rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}
.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}
.fb_dialog_content .dialog_content{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}
.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}
#fb_dialog_loader_close{float:left}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}
.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}
.fb_iframe_widget iframe{position:absolute}
.fb_iframe_widget_lift{z-index:1}
.fb_hide_iframes iframe{position:relative;left:-10000px}
.fb_iframe_widget_loader{position:relative;display:inline-block}
.fb_iframe_widget_fluid{display:inline}
.fb_iframe_widget_fluid span{width:100%}
.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}
.fb_iframe_widget_loader .FB_Loader{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_connect_bar_container div,
.fb_connect_bar_container span,
.fb_connect_bar_container a,
.fb_connect_bar_container img,
.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}
.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}
.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}
.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}
.fb_connect_bar a:hover{color:#fff}
.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}
.fb_connect_bar div a,
.fb_connect_bar span,
.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}
.fb_connect_bar .fb_buttons{float:right;margin-top:7px}
.fb_edge_widget_with_comment{position:relative;*z-index:1000}
.fb_edge_widget_with_comment span.fb_edge_comment_widget{position:absolute}
.fb_edge_widget_with_comment span.fb_send_button_form_widget{z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget .FB_Loader{left:0;top:1px;margin-top:6px;margin-left:0;background-position:50% 50%;background-color:#fff;height:150px;width:394px;border:1px #666 solid;border-bottom:2px solid #283e6c;z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.dark .FB_Loader{background-color:#000;border-bottom:2px solid #ccc}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.siderender
.FB_Loader{margin-top:0}
.fbpluginrecommendationsbarleft,
.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}
/* @noflip */
.fbpluginrecommendationsbarleft{left:10px}
/* @noflip */
.fbpluginrecommendationsbarright{right:10px}</style></head>

<body>
<script type="text/javascript"><!--
var _gaq = _gaq || [];
_gaq.push(
['_setAccount', 'UA-12206852-1'],
['_setVar', 'usergroup-1-Unregistered / Not Logged In'],
['_trackPageview']
);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
//-->
</script>


<div id="pageWrapper">
	<div id="topBar"><div class="pageWrap">

	
		
	<div id="toplinks" class="toplinks">
		<ul class="isuser">
			
				<li id="fb_headerbox">

	<a id="fb_loginbtn" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/facebook_login.gif" alt="The Facebook Platform" title="The Facebook Platform"></a>

</li>

			
		</ul>
	</div>
		
	
	</div></div>
<div class="above_body"> <!-- closing tag is in template navbar -->
<div id="header" class="floatcontainer doc_header"><div class="pageWrap">
		<div class="headerWrap">

			<span class="logo"><a name="top" href="http://www.openhdl.com/forum/"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/openhdl_logo.png" alt="OpenHDL - Verilog and VHDL Discussion Forums - Powered by vBulletin" title="OpenHDL - Verilog and VHDL Discussion Forums - Powered by vBulletin"></a></span>
			

			
			<div id="loginBox">
				<div class="loginText">for already registered members</div>
				<div class="loginBox">
					<!-- login form -->
					<script type="text/javascript" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/vbulletin_md5.js"></script>
					<form id="navbar_loginform" action="http://www.openhdl.com/login.php?do=login" method="post" onsubmit="md5hash(vb_login_password, vb_login_md5password, vb_login_md5password_utf, 0)">
					<ul>
						<li class="inputPad"><div class="loginBoxInput"><input type="text" class="textbox default-value loginInput" name="vb_login_username" id="navbar_username" size="10" accesskey="u" tabindex="101" value="User Name"></div></li>
						<li class="inputPad"><div class="loginBoxInput">
					<input type="password" class="loginInput" tabindex="102" name="vb_login_password" id="navbar_password" size="10" style="display: none;">
					<input type="text" class="loginInput" tabindex="102" name="vb_login_password_hint" id="navbar_password_hint" size="10" value="Password" style="display: inline;"></div></li>				
						<li class="submitPad"><input type="image" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/loginButton.gif" tabindex="104" value="Log in" title="Enter your username and password in the boxes provided to login, or click the &#39;register&#39; button to create a profile for yourself." accesskey="s"></li>
					</ul>
					<div class="memberBottom">
						<div class="memberLinks">
							<a rel="nofollow" href="http://www.openhdl.com/login.php?do=lostpw">Forgot password?</a>  |  <a href="http://www.openhdl.com/register.php" rel="nofollow">Register</a>
						</div>
						<div class="rememberMe"><label for="cb_cookieuser_navbar"><input type="checkbox" name="cookieuser" value="1" id="cb_cookieuser_navbar" class="cb_cookieuser_navbar" accesskey="c" tabindex="103"> Remember Me?</label></div>
					</div>						
				<input type="hidden" name="s" value="">
				<input type="hidden" name="securitytoken" value="guest">
				<input type="hidden" name="do" value="login">
				<input type="hidden" name="vb_login_md5password">
				<input type="hidden" name="vb_login_md5password_utf">
			</form>
			<script type="text/javascript">
			YAHOO.util.Dom.setStyle('navbar_password_hint', "display", "inline");
			YAHOO.util.Dom.setStyle('navbar_password', "display", "none");
			vB_XHTML_Ready.subscribe(function()
			{
			//
				YAHOO.util.Event.on('navbar_username', "focus", navbar_username_focus);
				YAHOO.util.Event.on('navbar_username', "blur", navbar_username_blur);
				YAHOO.util.Event.on('navbar_password_hint', "focus", navbar_password_hint);
				YAHOO.util.Event.on('navbar_password', "blur", navbar_password);
			});
			
			function navbar_username_focus(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				if (textbox.value == 'User Name')
				{
				//
					textbox.value='';
					textbox.style.color='#000000';
				}
			}

			function navbar_username_blur(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				if (textbox.value == '')
				{
				//
					textbox.value='User Name';
					textbox.style.color='#777777';
				}
			}
			
			function navbar_password_hint(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				
				YAHOO.util.Dom.setStyle('navbar_password_hint', "display", "none");
				YAHOO.util.Dom.setStyle('navbar_password', "display", "inline");
				YAHOO.util.Dom.get('navbar_password').focus();
			}

			function navbar_password(e)
			{
			//
				var textbox = YAHOO.util.Event.getTarget(e);
				
				if (textbox.value == '')
				{
					YAHOO.util.Dom.setStyle('navbar_password_hint', "display", "inline");
					YAHOO.util.Dom.setStyle('navbar_password', "display", "none");
				}
			}
			</script>
					<!-- / login form -->
				</div>				
			</div>
			
			
		</div>
</div></div>
<div id="navbar" class="navbar"><div class="pageWrap">
<div class="navbarWrap">
	<ul id="navtabs" class="navtabs floatcontainer">
		
		
	<li id="vbtab_whatsnew">
		<a class="navtab" href="http://www.openhdl.com/activity.php">What's New?</a>
		
	</li>

	<li id="vbtab_cms">
		<a class="navtab" href="http://www.openhdl.com/content/">Articles</a>
		
	</li>

	<li class="selected" id="vbtab_forum">
		<a class="navtab" href="http://www.openhdl.com/forum/">Forum</a>
		
			<ul class="floatcontainer">
				
					
						
							<li id="vbflink_newposts"><a rel="nofollow" href="http://www.openhdl.com/search.php?do=getnew&contenttype=vBForum_Post">New Posts</a></li>
						
					
				
					
						
							<li id="vbflink_faq"><a href="http://www.openhdl.com/faq.php">FAQ</a></li>
						
					
				
					
						
							<li id="vbflink_calendar"><a href="http://www.openhdl.com/calendar/">Calendar</a></li>
						
					
				
					
						<li class="popupmenu" id="vbmenu_community">
							<a href="javascript://" class="popupctrl" id="yui-gen1">Community</a>
							<ul class="popupbody" id="yui-gen0">
								
									<li id="vbclink_members"><a href="http://www.openhdl.com/members/list/">Member List</a></li>
								
								
							</ul>
						</li>
					
				
					
						<li class="popupmenu" id="vbmenu_actions">
							<a href="javascript://" class="popupctrl" id="yui-gen3">Forum Actions</a>
							<ul class="popupbody" id="yui-gen2">
								
									<li id="vbalink_mfr"><a rel="nofollow" href="http://www.openhdl.com/forumdisplay.php?do=markread&markreadhash=guest">Mark Forums Read</a></li>
								
								
							</ul>
						</li>
					
				
					
						<li class="popupmenu" id="vbmenu_qlinks">
							<a href="javascript://" class="popupctrl" id="yui-gen5">Quick Links</a>
							<ul class="popupbody" id="yui-gen4">
								
									<li id="vbqlink_posts"><a href="http://www.openhdl.com/search.php?do=getdaily&contenttype=vBForum_Post">Today's Posts</a></li>
								
									<li id="vbqlink_leaders"><a href="http://www.openhdl.com/forumleaders.html">View Site Leaders</a></li>
								
								
							</ul>
						</li>
					
				
				
			</ul>
		
	</li>

	<li id="vbtab_blog">
		<a class="navtab" href="http://www.openhdl.com/blogs/">Blogs</a>
		
	</li>

		
	</ul>

	
			<div class="searchBox">
				<!-- search form -->
		<form action="http://www.openhdl.com/search.php?do=process" method="post">
			
			<input type="hidden" name="securitytoken" value="guest">
			<input type="hidden" name="do" value="process">

					<div class="searchBoxInput">
						<input class="searchinput" type="text" name="query" tabindex="1004" value="">
					</div>
					<span class="searchButton">
						<input type="image" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/searchButton.gif" value="Search" alt="Submit">
					</span>
				</form>
		<ul class="searchBox_advanced_search">
			<li><a href="http://www.openhdl.com/search.php" accesskey="4">Advanced Search</a></li>
		</ul>
				<!-- / search form -->
			</div>
	
</div>
</div></div>
</div><!-- closing div for above_body -->

<!-- Custom Content Wrap -->
<div id="contentMain"><div class="bodyWrapper">
<!-- Custom Content Wrap End -->

<div id="breadcrumb" class="breadcrumb">
<div class="bcLeft"><div class="bcRight">
	<ul class="floatcontainer">
		<li class="navbithome"><a href="http://www.openhdl.com/forum/" accesskey="1"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/navbit-home.png" alt="Home" title="Home"></a></li>

		
	<li class="navbit"><a href="http://www.openhdl.com/forum/">Forum</a></li>

	<li class="navbit"><a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;&#39;, &#39;forumdisplay.php&#39;]);" href="http://www.openhdl.com/forum/#openhdl-forum">OpenHDL Forum</a></li>

	<li class="navbit"><a href="http://www.openhdl.com/vhdl/">VHDL</a></li>

		
	<li class="navbit lastnavbit"><span> VHDL Component: Wallace Tree Multiplier (Generic)</span></li>

	</ul>
	<hr>
</div></div>
</div>

<div class="body_wrapper">


 
<div id="ad_global_below_navbar"><center><script type="text/javascript"><!--
google_ad_client = "ca-pub-1757070263290270";
/* NavBar */
google_ad_slot = "5468187125";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></center></div>


	<form action="http://www.openhdl.com/profile.php?do=dismissnotice" method="post" id="notices" class="notices">
		<input type="hidden" name="do" value="dismissnotice">
		<input type="hidden" name="s" value="">
		<input type="hidden" name="securitytoken" value="guest">
		<input type="hidden" id="dismiss_notice_hidden" name="dismiss_noticeid" value="">
		<input type="hidden" name="url" value="">
		<div id="vbseo_vhtml_0"><ol>			<li class="restore" id="navbar_notice_1">		Welcome to the <b>OpenHDL Forums</b> - Verilog and VHDL Discussion Forums.<br><br>OpenHDL is a newly established community for the development of all in the challenging profession of hardware description using common HDL's such as VHDL and Verilog. You are currently using our site as a guest which means you can't access all of our features like <a href="http://www.openhdl.com/faq.php" target="_blank">hdl search</a>, <a href="http://www.openhdl.com/faq.php" target="_blank">hardware photo galleries</a>, <a href="http://www.openhdl.com/faq.php" target="_blank">events calendar</a> and more. By joining our <b>free</b> community you will have access to all of these features as well as participating in our community forums, contacting members and much more. Registration takes only <b>1</b> minute and the OpenHDL Forum is absolutely free, so please <a href="http://www.openhdl.com/register.php" target="_blank"><b>join our community today</b></a>!<br><br>If you have any problems with the registration process or your account login, <a href="http://www.openhdl.com/sendmessage.php" target="_blank">contact us</a>.</li>		</ol></div>
	</form>





	<div id="above_postlist" class="above_postlist">
		
		<div id="pagination_top" class="pagination_top">
		
			<form action="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic-2.html" method="get" class="pagination popupmenu nohovermenu" id="yui-gen6">
<input type="hidden" name="t" value="655">
	
		<span><a href="javascript://" class="popupctrl" id="yui-gen8">Page 1 of 2</a></span>
		
		
		
		<span class="selected"><a href="javascript://" title="Results 1 to 10 of 20">1</a></span><span><a href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic-2.html" title="Show results 11 to 20 of 20">2</a></span>
		
		
		<span class="prev_next"><a rel="next" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic-2.html" title="Next Page - Results 11 to 20 of 20"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/next-right.png" alt="Next" title="Next"></a></span>
		
		
		<span class="first_last"><a href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic-2.html" title="Last Page - Results 11 to 20 of 20">Last<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/last-right.png" alt="Last" title="Last"></a></span>
		
	
	<ul class="popupbody" id="yui-gen7">
		<li class="formsubmit jumptopage"><label>Jump to page: <input type="text" name="page" size="4"></label> <input type="submit" class="button" value="Go"></li>
	</ul>
</form>
		
			<div id="postpagestats_above" class="postpagestats">
				Results 1 to 10 of 20
			</div>
		</div>
	</div>
<div id="pagetitle" class="pagetitle">Discuss VHDL Component: Wallace Tree Multiplier (Generic) at the VHDL within the OpenHDL - Verilog and VHDL Discussion Forums; <em>Hi everyone! 
 
Today, I'm going to illustrate the construction and VHDL code of a generic ...</em></div>


<!-- Start Forum tcat Heading PurevB -->
<div class="tcat">
	<div class="tcatLeft"><div class="tcatRight foruminfo L1 collapse">
	<div id="thread_controls" class="tcat_threadlist_controls ">
		<div>
		<ul id="postlist_popups" class="postlist_popups popupgroup">
			
			
			
			<li class="popupmenu" id="linkbacktools">
				<h6><a class="popupctrl" href="javascript://" id="yui-gen10">LinkBack</a><a name="goto_linkback"></a></h6>
				<ul class="popupbody" id="yui-gen9">
                                             
					<li><a href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/VHDL Component  Wallace Tree Multiplier (Generic).html" onclick="prompt(&#39;Use the following URL when referencing this thread from another forum or blog.&#39;,&#39;http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html&#39;);return false;"><img class="inlineimg" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/linkback_url.gif" alt="LinkBack URL" title="LinkBack URL"> LinkBack URL</a></li>
					<li><a rel="nofollow" href="http://www.openhdl.com/misc.php?do=linkbacks"><img class="inlineimg" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/linkback_about.gif" alt="About LinkBacks" title="About LinkBacks"> About LinkBacks</a></li>
					
						<li>&nbsp;</li>
                                                <li>Bookmark &amp; Share</li>
                                                <li><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank">Digg this Thread!</a></li><li><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html" target="_blank">Bookmark in Technorati</a></li>
					
				</ul>
			</li>
 <li class="popupmenu" id="threadtools">
				<h6><a class="popupctrl" href="javascript://" id="yui-gen12">Thread Tools</a></h6>
				<ul class="popupbody" id="yui-gen11">
					<li><a href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic-print.html" accesskey="3" rel="nofollow">Show Printable Version</a></li>
					
						<li><a href="http://www.openhdl.com/sendmessage.php?do=sendtofriend&t=655" rel="nofollow">Email this Page…</a></li>
					
					<li>
						
							<a href="http://www.openhdl.com/subscription.php?do=addsubscription&t=655" rel="nofollow">Subscribe to this Thread…</a>
						
					</li>
					
				</ul>
			</li>

			

			

			

			
				<li class="popupmenu" id="displaymodes">
					<h6><a class="popupctrl" href="javascript://" id="yui-gen14">Display</a></h6>
					<ul class="popupbody" id="yui-gen13">
						<li><label>Linear Mode</label></li>
						<li><a rel="nofollow" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html?mode=hybrid"> Switch to Hybrid Mode</a></li>
						<li><a rel="nofollow" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html?mode=threaded#post882"> Switch to Threaded Mode</a></li>
					</ul>
				</li>
			

			
		</ul>
		</div>
	</div>

	</div></div>
</div>
<!-- End Forum tcat Heading PurevB -->
<div id="postlist" class="postlist restrain">
	

	
<div class="forumbitBody">
		<ol id="posts" class="posts" start="1">
			
<li class="postbitlegacy postbitim postcontainer old" id="post_882">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">10-14-2011</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post882" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post882" class="postcounter">#1</a><a id="postcount882" name="1"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<div class="popupmenu memberaction" id="yui-gen15">
	<a rel="nofollow" class="username offline " href="http://www.openhdl.com/members/vhdlcoder.html" title="VHDLCoder is offline"><strong><span style="color: red;"><b>VHDLCoder</b></span></strong></a>
	
</div>
				<img class="inlineimg onlinestatus" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/user-offline.png" alt="VHDLCoder is offline" border="0" title="VHDLCoder is offline">

			
			</div>
			<span class="usertitle">
				Administrator
			</span>
			
			
			
			 
			
				<hr>
				<dl class="userinfo_extra">
					<dt>Join Date</dt> <dd>Oct 2011</dd>
					
					
					<dt>Posts</dt> <dd>63</dd>	
					<dt>Blog Entries</dt><dd><a href="http://www.openhdl.com/blogs/vhdlcoder/">17</a></dd>
				</dl>
				
				
				<div class="imlinks">
					    
				</div>
			
		</div>
		<div class="postbody">
			<div class="postrow has_after_content">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> VHDL Component: Wallace Tree Multiplier (Generic)
				</h2>
				


						
							
							
						
						
				<div class="content">
					<div id="post_message_882">
						<blockquote class="postcontent restore ">
							Hi everyone!<br>
<br>
Today, I'm going to illustrate the construction and VHDL code of a generic coded Wallace tree multiplier. The Wallace tree multiplier is not necessarily <i>faster</i> than other multiplier designs, particularly in an FPGA but does result in a small number of layers needed to compute the sum of the partial products. <br>
<br>
The Wallace tree has a 3-step algorithm:<br>
<br>
<ol class="decimal"><li style="">Multiply (i.e. AND) each bit of one of the arguments, by each bit of the other, yielding n^2 results.</li><li style="">Reduce the number of partial products to two by layers of full and half adders.</li><li style="">Group the wires in two numbers, and add them with a conventional adder. </li></ol><br>
<br>
To reduce the number of partial products, we maximize the number of 3:2 and 2:2 (i.e. full and half adders respectively) that we can bit along a set of weights. Weights are define the relative alignment of a bit with respect to the other partial products. For every 3:2 and 2:2 compressor, the sum bit is fed into the next layer of the <i>same</i> weight and the carry bit is fed into the <i>next highest</i> weight of the next layer. If only 1 bit remains in the weight for that layer, pass it up to the same weight in the next layer. Here's a look at the structure of an 8x8 multiplier and the resulting Wallace tree reduction on the initial 8 partial products. <br>
<br>
<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/144-vhdl-component-wallace-tree-multiplier-generic-wallace_tree.png" border="0" alt=""><br>
<br>
Notice the reduction in using compressors from layer to layer. The construction of a generic version of the Wallace tree multiplier can be tricky, so here's a look at the VHDL code. Take some time to look at how a set of recursive VHDL functions can cue the tree process on how many compressors to insert at each layer.<br>
<br>
<div class="bbcode_container"><div class="bbcode_description">VHDL Code:</div><div class="bbcode_code"><pre class="vhdl" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">LIBRARY</span> <span style="color: #0000ff;">ieee</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">USE</span> <span style="color: #0000ff;">ieee</span>.<span style="color: #0000ff;">std_logic_1164</span>.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">PACKAGE</span> my_funs <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> clogb2 <span style="color: #000066;">(</span>a<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> prev_lvl_carry <span style="color: #000066;">(</span>width<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_weight<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_lvl<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> this_lvl_bits <span style="color: #000066;">(</span>width<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_weight<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_lvl<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> num_full_adders <span style="color: #000066;">(</span>width<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_weight<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_lvl<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> num_half_adders <span style="color: #000066;">(</span>width<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_weight<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_lvl<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">END</span> my_funs<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">PACKAGE</span> <span style="color: #000080; font-weight: bold;">BODY</span> my_funs <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> clogb2 <span style="color: #000066;">(</span>a<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> aggregate <span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> a<span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> return_val <span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        compute_clogb2<span style="color: #000066;">:</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> i <span style="color: #000080; font-weight: bold;">IN</span> a <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">IF</span> aggregate <span style="color: #000066;">&gt;</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                return_val <span style="color: #000066;">:=</span> return_val + <span style="color: #ff0000;">1</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            aggregate <span style="color: #000066;">:=</span> aggregate / <span style="color: #ff0000;">2</span><span style="color: #000066;">;</span>            </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">RETURN</span> return_val<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> clogb2<span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> prev_lvl_carry <span style="color: #000066;">(</span>width<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_weight<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_lvl<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> this_weight_base_bits<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> this_num_bits<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> num_carry<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span>    </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">IF</span> this_weight <span style="color: #000066;">&gt;</span> <span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">IF</span> this_weight <span style="color: #000066;">=</span> <span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_weight_base_bits <span style="color: #000066;">:=</span> <span style="color: #ff0000;">1</span><span style="color: #000066;">;</span>        </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">ELSIF</span> this_weight <span style="color: #000066;">=</span> width <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_weight_base_bits <span style="color: #000066;">:=</span> <span style="color: #ff0000;">2</span>*width-this_weight<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_weight_base_bits <span style="color: #000066;">:=</span> <span style="color: #ff0000;">2</span>*width-this_weight-<span style="color: #ff0000;">1</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span>    </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            this_weight_base_bits <span style="color: #000066;">:=</span> this_weight+<span style="color: #ff0000;">1</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">IF</span> this_lvl <span style="color: #000066;">&gt;</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">THEN</span> <span style="color: #008000; font-style: italic;">-- Recursive case</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">IF</span> this_weight <span style="color: #000066;">&gt;</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_num_bits <span style="color: #000066;">:=</span> this_lvl_bits<span style="color: #000066;">(</span>width,this_weight-<span style="color: #ff0000;">1</span>,this_lvl-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                num_carry <span style="color: #000066;">:=</span> this_num_bits/<span style="color: #ff0000;">3</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                num_carry <span style="color: #000066;">:=</span> num_carry + <span style="color: #000066;">(</span>this_num_bits-num_carry*<span style="color: #ff0000;">3</span><span style="color: #000066;">)</span>/<span style="color: #ff0000;">2</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                num_carry <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            num_carry <span style="color: #000066;">:=</span> this_weight_base_bits/<span style="color: #ff0000;">3</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            num_carry <span style="color: #000066;">:=</span> num_carry + <span style="color: #000066;">(</span>this_weight_base_bits-num_carry*<span style="color: #ff0000;">3</span><span style="color: #000066;">)</span>/<span style="color: #ff0000;">2</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">RETURN</span> num_carry<span style="color: #000066;">;</span>        </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> prev_lvl_carry<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> this_lvl_bits <span style="color: #000066;">(</span>width<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_weight<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_lvl<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> this_weight_base_bits<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> prev_lvl_bits<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> full_adder_sums<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> half_adder_sums<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> this_num_bits<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">IF</span> this_weight <span style="color: #000066;">&gt;</span> <span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">IF</span> this_weight <span style="color: #000066;">=</span> <span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_weight_base_bits <span style="color: #000066;">:=</span> <span style="color: #ff0000;">1</span><span style="color: #000066;">;</span>        </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">ELSIF</span> this_weight <span style="color: #000066;">=</span> width <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_weight_base_bits <span style="color: #000066;">:=</span> <span style="color: #ff0000;">2</span>*width-this_weight<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_weight_base_bits <span style="color: #000066;">:=</span> <span style="color: #ff0000;">2</span>*width-this_weight-<span style="color: #ff0000;">1</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span>    </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            this_weight_base_bits <span style="color: #000066;">:=</span> this_weight+<span style="color: #ff0000;">1</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">IF</span> this_lvl <span style="color: #000066;">&gt;</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">THEN</span> <span style="color: #008000; font-style: italic;">-- Recursive case</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">IF</span> this_weight <span style="color: #000066;">&gt;</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                prev_lvl_bits <span style="color: #000066;">:=</span> this_lvl_bits<span style="color: #000066;">(</span>width,this_weight,this_lvl-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                full_adder_sums <span style="color: #000066;">:=</span> prev_lvl_bits/<span style="color: #ff0000;">3</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                half_adder_sums <span style="color: #000066;">:=</span> <span style="color: #000066;">(</span>prev_lvl_bits-full_adder_sums*<span style="color: #ff0000;">3</span><span style="color: #000066;">)</span>/<span style="color: #ff0000;">2</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_num_bits <span style="color: #000066;">:=</span> prev_lvl_bits - <span style="color: #ff0000;">2</span>*full_adder_sums- half_adder_sums + prev_lvl_carry<span style="color: #000066;">(</span>width,this_weight,this_lvl<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_num_bits <span style="color: #000066;">:=</span> this_lvl_bits<span style="color: #000066;">(</span>width,this_weight,this_lvl-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            this_num_bits <span style="color: #000066;">:=</span> this_weight_base_bits<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">RETURN</span> this_num_bits<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> this_lvl_bits<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> num_full_adders <span style="color: #000066;">(</span>width<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_weight<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_lvl<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> this_num_bits<span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> this_lvl_bits<span style="color: #000066;">(</span>width,this_weight,this_lvl<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #000066;">(</span>this_num_bits/<span style="color: #ff0000;">3</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> num_full_adders<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> num_half_adders <span style="color: #000066;">(</span>width<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_weight<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">;</span> this_lvl<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> this_num_bits<span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> this_lvl_bits<span style="color: #000066;">(</span>width,this_weight,this_lvl<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> num_full_adds<span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        num_full_adds <span style="color: #000066;">:=</span> this_num_bits/<span style="color: #ff0000;">3</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">RETURN</span> <span style="color: #000066;">(</span><span style="color: #000066;">(</span>this_num_bits-num_full_adds*<span style="color: #ff0000;">3</span><span style="color: #000066;">)</span>/<span style="color: #ff0000;">2</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> num_half_adders<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">END</span> my_funs<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">LIBRARY</span> <span style="color: #0000ff;">ieee</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">USE</span> <span style="color: #0000ff;">ieee</span>.<span style="color: #0000ff;">std_logic_1164</span>.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">USE</span> <span style="color: #0000ff;">work</span>.my_funs.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">ENTITY</span> wallace_mult <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">GENERIC</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        width <span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">4</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">PORT</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        a <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        b <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        prod <span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">OUT</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span><span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000066;">)</span><span style="color: #000066;">;</span>        </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">END</span> wallace_mult<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">ARCHITECTURE</span> behavioral <span style="color: #000080; font-weight: bold;">OF</span> wallace_mult <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">TYPE</span> layer_depth_type <span style="color: #000080; font-weight: bold;">IS</span> ARRAY<span style="color: #000066;">(</span><span style="color: #ff0000;">32</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">3</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">OF</span> <span style="color: #0000ff;">INTEGER</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">CONSTANT</span> layer_depth<span style="color: #000066;">:</span> layer_depth_type <span style="color: #000066;">:=</span> <span style="color: #000066;">(</span><span style="color: #ff0000;">9</span>,<span style="color: #ff0000;">9</span>,<span style="color: #ff0000;">9</span>,<span style="color: #ff0000;">8</span>,<span style="color: #ff0000;">8</span>,<span style="color: #ff0000;">8</span>,<span style="color: #ff0000;">8</span>,<span style="color: #ff0000;">8</span>,<span style="color: #ff0000;">8</span>,<span style="color: #ff0000;">8</span>,<span style="color: #ff0000;">8</span>,<span style="color: #ff0000;">8</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">7</span>,<span style="color: #ff0000;">6</span>  ,<span style="color: #ff0000;">5</span>,<span style="color: #ff0000;">5</span>,<span style="color: #ff0000;">4</span>,<span style="color: #ff0000;">3</span>,<span style="color: #ff0000;">3</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">CONSTANT</span> stages<span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> layer_depth<span style="color: #000066;">(</span>width<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">TYPE</span> W_type <span style="color: #000080; font-weight: bold;">IS</span> ARRAY<span style="color: #000066;">(</span><span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span>, width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span>, stages-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">OF</span> <span style="color: #0000ff;">STD_LOGIC</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">TYPE</span> P_type <span style="color: #000080; font-weight: bold;">IS</span> ARRAY<span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span>, width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">OF</span> <span style="color: #0000ff;">STD_LOGIC</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> P<span style="color: #000066;">:</span> P_type<span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- Initial product tree</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> W<span style="color: #000066;">:</span> W_type<span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- Wallace tree</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> add_a, add_b, add_sum<span style="color: #000066;">:</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span><span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> c_in<span style="color: #000066;">:</span> <span style="color: #0000ff;">STD_LOGIC</span> <span style="color: #000066;">:=</span> '<span style="color: #ff0000;">0</span>'<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">COMPONENT</span> bk_adder</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">GENERIC</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            width <span style="color: #000066;">:</span>     <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">4</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">PORT</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            a <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            b <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            c_in <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            sum <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">OUT</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            c_out <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">OUT</span> <span style="color: #0000ff;">STD_LOGIC</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">COMPONENT</span><span style="color: #000066;">;</span>    </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    partial_proc<span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">(</span>a,b<span style="color: #000066;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> i <span style="color: #000080; font-weight: bold;">IN</span> width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">FOR</span> j <span style="color: #000080; font-weight: bold;">IN</span> width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                P<span style="color: #000066;">(</span>i,j<span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> a<span style="color: #000066;">(</span>i<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> b<span style="color: #000066;">(</span>j<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    wallace_proc<span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">(</span>W,P<span style="color: #000066;">)</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> this_carry_bits<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> num_full_adds<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> num_half_adds<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> num_wires<span style="color: #000066;">:</span> <span style="color: #0000ff;">NATURAL</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        W<span style="color: #000066;">(</span><span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span>,<span style="color: #ff0000;">0</span>,<span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> '<span style="color: #ff0000;">1</span>'<span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- Extended sign bit</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        W<span style="color: #000066;">(</span>width,width-<span style="color: #ff0000;">1</span>,<span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> '<span style="color: #ff0000;">1</span>'<span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- Sign bit</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> i <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">2</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">IF</span> i <span style="color: #000066;">&lt;=</span> <span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">FOR</span> j <span style="color: #000080; font-weight: bold;">IN</span> i <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">IF</span> <span style="color: #000066;">(</span>j <span style="color: #000066;">=</span> width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> <span style="color: #000066;">(</span>i-j <span style="color: #000066;">=</span> width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        W<span style="color: #000066;">(</span>i,j,<span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> <span style="color: #000080; font-weight: bold;">NOT</span><span style="color: #000066;">(</span>P<span style="color: #000066;">(</span>j,i-j<span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        W<span style="color: #000066;">(</span>i,j,<span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> P<span style="color: #000066;">(</span>j,i-j<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">FOR</span> j <span style="color: #000080; font-weight: bold;">IN</span> width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> i-width+<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">IF</span> <span style="color: #000066;">(</span>j <span style="color: #000066;">=</span> width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> <span style="color: #000066;">(</span>i-j <span style="color: #000066;">=</span> width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        W<span style="color: #000066;">(</span>i,j-i+width-<span style="color: #ff0000;">1</span>,<span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> <span style="color: #000080; font-weight: bold;">NOT</span><span style="color: #000066;">(</span>P<span style="color: #000066;">(</span>j,i-j<span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        W<span style="color: #000066;">(</span>i,j-i+width-<span style="color: #ff0000;">1</span>,<span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> P<span style="color: #000066;">(</span>j,i-j<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span>                                </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> k <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">TO</span> stages-<span style="color: #ff0000;">2</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">FOR</span> i <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                this_carry_bits <span style="color: #000066;">:=</span> prev_lvl_carry<span style="color: #000066;">(</span>width, i, k+<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span>                        </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #008000; font-style: italic;">-- Full adders (3:2 Compressors)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                num_full_adds <span style="color: #000066;">:=</span> num_full_adders<span style="color: #000066;">(</span>width,i,k<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">FOR</span> j <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">TO</span> num_full_adds-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    W<span style="color: #000066;">(</span>i,this_carry_bits+j,k+<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> W<span style="color: #000066;">(</span>i,j*<span style="color: #ff0000;">3</span>,k<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> W<span style="color: #000066;">(</span>i,j*<span style="color: #ff0000;">3</span>+<span style="color: #ff0000;">1</span>,k<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> W<span style="color: #000066;">(</span>i,j*<span style="color: #ff0000;">3</span>+<span style="color: #ff0000;">2</span>,k<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">IF</span> i <span style="color: #000066;">&lt;</span> <span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        W<span style="color: #000066;">(</span>i+<span style="color: #ff0000;">1</span>,j,k+<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> <span style="color: #000066;">(</span>W<span style="color: #000066;">(</span>i,j*<span style="color: #ff0000;">3</span>,k<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> W<span style="color: #000066;">(</span>i,j*<span style="color: #ff0000;">3</span>+<span style="color: #ff0000;">1</span>,k<span style="color: #000066;">)</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> <span style="color: #000066;">(</span>W<span style="color: #000066;">(</span>i,j*<span style="color: #ff0000;">3</span>+<span style="color: #ff0000;">2</span>,k<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> <span style="color: #000066;">(</span>W<span style="color: #000066;">(</span>i,j*<span style="color: #ff0000;">3</span>,k<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> W<span style="color: #000066;">(</span>i,j*<span style="color: #ff0000;">3</span>+<span style="color: #ff0000;">1</span>,k<span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #008000; font-style: italic;">-- Half adders (2:2 Compressors)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                num_half_adds <span style="color: #000066;">:=</span> num_half_adders<span style="color: #000066;">(</span>width,i,k<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">FOR</span> j <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">TO</span> num_half_adds-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    W<span style="color: #000066;">(</span>i,this_carry_bits+num_full_adds+j,k+<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> W<span style="color: #000066;">(</span>i,num_full_adds*<span style="color: #ff0000;">3</span>+j*<span style="color: #ff0000;">2</span>,k<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> W<span style="color: #000066;">(</span>i,num_full_adds*<span style="color: #ff0000;">3</span>+j*<span style="color: #ff0000;">2</span>+<span style="color: #ff0000;">1</span>,k<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">IF</span> i <span style="color: #000066;">&lt;</span> <span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        W<span style="color: #000066;">(</span>i+<span style="color: #ff0000;">1</span>,num_full_adds+j,k+<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> W<span style="color: #000066;">(</span>i,num_full_adds*<span style="color: #ff0000;">3</span>+j*<span style="color: #ff0000;">2</span>,k<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> W<span style="color: #000066;">(</span>i,num_full_adds*<span style="color: #ff0000;">3</span>+j*<span style="color: #ff0000;">2</span>+<span style="color: #ff0000;">1</span>,k<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #008000; font-style: italic;">-- Wires</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                num_wires <span style="color: #000066;">:=</span> this_lvl_bits<span style="color: #000066;">(</span>width,i,k<span style="color: #000066;">)</span>-num_full_adds*<span style="color: #ff0000;">3</span>-num_half_adds*<span style="color: #ff0000;">2</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">FOR</span> j <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">TO</span> num_wires-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    W<span style="color: #000066;">(</span>i,this_carry_bits+num_full_adds+num_half_adds+j,  k+<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> W<span style="color: #000066;">(</span>i,num_full_adds*<span style="color: #ff0000;">3</span>+num_half_adds*<span style="color: #ff0000;">2</span>+j,k<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span>                        </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #008000; font-style: italic;">-- Final Adder (Using a Brent Kung Adder)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    signal_vect_proc<span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">(</span>W<span style="color: #000066;">)</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> i <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            add_a<span style="color: #000066;">(</span>i<span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> W<span style="color: #000066;">(</span>i,<span style="color: #ff0000;">0</span>,stages-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            add_b<span style="color: #000066;">(</span>i<span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> W<span style="color: #000066;">(</span>i,<span style="color: #ff0000;">1</span>,stages-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span>                </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    U_bk_add<span style="color: #000066;">:</span> bk_adder</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">GENERIC</span> <span style="color: #000080; font-weight: bold;">MAP</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        width <span style="color: #000066;">=&gt;</span> <span style="color: #ff0000;">2</span>*width</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000066;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">PORT</span> <span style="color: #000080; font-weight: bold;">MAP</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        a <span style="color: #000066;">=&gt;</span> add_a,</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        b <span style="color: #000066;">=&gt;</span> add_b,</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        c_in <span style="color: #000066;">=&gt;</span> c_in,</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        sum <span style="color: #000066;">=&gt;</span> add_sum</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    prod <span style="color: #000066;">&lt;=</span> add_sum<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">END</span> behavioral<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">LIBRARY</span> <span style="color: #0000ff;">ieee</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">USE</span> <span style="color: #0000ff;">ieee</span>.<span style="color: #0000ff;">std_logic_1164</span>.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">USE</span> <span style="color: #0000ff;">work</span>.my_funs.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">ENTITY</span> bk_adder <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">GENERIC</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        width <span style="color: #000066;">:</span>     <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">7</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">PORT</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        a <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        b <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        c_in <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        sum <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">OUT</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        c_out <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">OUT</span> <span style="color: #0000ff;">STD_LOGIC</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">END</span> bk_adder<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">ARCHITECTURE</span> behavioral <span style="color: #000080; font-weight: bold;">OF</span> bk_adder <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">CONSTANT</span> nn<span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> clogb2<span style="color: #000066;">(</span>width<span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">CONSTANT</span> inv_nn<span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> clogb2<span style="color: #000066;">(</span>width+<span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span>nn-<span style="color: #ff0000;">2</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span>-<span style="color: #ff0000;">2</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">TYPE</span> T_type <span style="color: #000080; font-weight: bold;">IS</span> ARRAY<span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span>, width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">OF</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> T<span style="color: #000066;">:</span> T_type<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #008000; font-style: italic;">-- Carry tree with maximum number of stages</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    tree_proc<span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">(</span>T,a,b,c_in<span style="color: #000066;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #008000; font-style: italic;">-- First bit is a full adder</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        T<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span>,<span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> <span style="color: #000066;">(</span>a<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> b<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">OR</span> <span style="color: #000066;">(</span>c_in <span style="color: #000080; font-weight: bold;">AND</span> <span style="color: #000066;">(</span>a<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> b<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        T<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span>,<span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> a<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> b<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> c_in<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #008000; font-style: italic;">-- Leaves of tree        </span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> j <span style="color: #000080; font-weight: bold;">IN</span> width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            T<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> a<span style="color: #000066;">(</span>j<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> b<span style="color: #000066;">(</span>j<span style="color: #000066;">)</span><span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- Generate bit base</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            T<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> a<span style="color: #000066;">(</span>j<span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> b<span style="color: #000066;">(</span>j<span style="color: #000066;">)</span><span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- Propagate bit base</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #008000; font-style: italic;">-- Carry tree</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> i <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">TO</span> nn-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">FOR</span> j <span style="color: #000080; font-weight: bold;">IN</span> width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">(</span>j <span style="color: #000080; font-weight: bold;">mod</span> <span style="color: #ff0000;">2</span>**i <span style="color: #000066;">=</span> <span style="color: #000066;">(</span><span style="color: #ff0000;">2</span>**i<span style="color: #000066;">)</span>-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">THEN</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">(</span><span style="color: #000066;">(</span>j-<span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span> <span style="color: #000066;">&gt;=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">THEN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        T<span style="color: #000066;">(</span>i,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> <span style="color: #000066;">(</span>T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j-<span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">OR</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- G = (P_i and G_i_prev) or G_i</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        T<span style="color: #000066;">(</span>i,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j-<span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- P = P_i and P_i_prev</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        T<span style="color: #000066;">(</span>i,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- G = G_i (since we are at tree's edge, there is no G_i_prev)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        T<span style="color: #000066;">(</span>i,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- P = P_i (since we are at tree's edge, there is no P_i_prev)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    T<span style="color: #000066;">(</span>i,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    T<span style="color: #000066;">(</span>i,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span>        </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #008000; font-style: italic;">-- Inverse carry tree</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> i <span style="color: #000080; font-weight: bold;">IN</span> nn+inv_nn <span style="color: #000080; font-weight: bold;">DOWNTO</span> nn+<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">FOR</span> j <span style="color: #000080; font-weight: bold;">IN</span> width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">(</span><span style="color: #000066;">(</span>j-<span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #000066;">(</span>i<span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">mod</span> <span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span><span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #000066;">(</span>i<span style="color: #000066;">)</span><span style="color: #000066;">)</span>+<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">=</span> <span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span><span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #000066;">(</span>i<span style="color: #000066;">)</span><span style="color: #000066;">)</span>+<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span>-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">THEN</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">(</span>j <span style="color: #000066;">&gt;=</span> <span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span>nn+inv_nn-i<span style="color: #000066;">)</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">THEN</span>    </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> <span style="color: #000066;">(</span>T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">2</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">2</span>,j-<span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span><span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #000066;">(</span>i<span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">OR</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">2</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- G = (P_i and G_i_prev) or G_i</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">2</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">2</span>,j-<span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span><span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #000066;">(</span>i<span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> <span style="color: #008000; font-style: italic;">-- P = P_i and P_i_prev</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">2</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">2</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">ELSE</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">2</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                    T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">1</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>i-<span style="color: #ff0000;">2</span>,j<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span> </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">IF</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #008000; font-style: italic;">-- Basic summation for carry tree</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    sum_proc<span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">(</span>T<span style="color: #000066;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        sum<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span>,<span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> i <span style="color: #000080; font-weight: bold;">IN</span> width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            sum<span style="color: #000066;">(</span>i<span style="color: #000066;">)</span> <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span><span style="color: #ff0000;">0</span>,i<span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">XOR</span> T<span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #ff0000;">1</span>,i-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    c_out <span style="color: #000066;">&lt;=</span> T<span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #ff0000;">1</span>,width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">OR</span> <span style="color: #000066;">(</span>T<span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #ff0000;">1</span>,width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">1</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">AND</span> T<span style="color: #000066;">(</span>nn+inv_nn-<span style="color: #ff0000;">1</span>,width-<span style="color: #ff0000;">2</span><span style="color: #000066;">)</span><span style="color: #000066;">(</span><span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">END</span> behavioral<span style="color: #000066;">;</span></div></li></ol></pre></div></div><br>
<br>
Note that this Wallace tree multiplier is set up as a <b><i>combinational</i></b> and <i><b>signed operand</b></i> multiplier. An <b>unsigned synchronous</b> and <b>signed synchronous</b> version of each is attached. Also, note that I have used a Brent-Kung Adder for the final partial sums that I previously discussed. Now, here's a test bench to verify proper function of the Wallace tree multiplier.<br>
<br>
<div class="bbcode_container"><div class="bbcode_description">VHDL Code:</div><div class="bbcode_code"><pre class="vhdl" style="font-family:monospace;"><ol><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">LIBRARY</span> <span style="color: #0000ff;">ieee</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">USE</span> <span style="color: #0000ff;">ieee</span>.<span style="color: #0000ff;">std_logic_1164</span>.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">USE</span> <span style="color: #0000ff;">ieee</span>.<span style="color: #0000ff;">numeric_std</span>.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">USE</span> std.textio.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">ENTITY</span> wallace_mult_tb <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">GENERIC</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        width<span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">11</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">END</span> wallace_mult_tb<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">ARCHITECTURE</span> tb <span style="color: #000080; font-weight: bold;">OF</span> wallace_mult_tb <span style="color: #000080; font-weight: bold;">IS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> t_a<span style="color: #000066;">:</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> t_b<span style="color: #000066;">:</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> t_p<span style="color: #000066;">:</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span><span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> t_clk<span style="color: #000066;">:</span> <span style="color: #0000ff;">STD_LOGIC</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">SIGNAL</span> t_reset<span style="color: #000066;">:</span> <span style="color: #0000ff;">STD_LOGIC</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">COMPONENT</span> wallace_mult</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">GENERIC</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            width <span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">4</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">PORT</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            a <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            b <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            clk <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            reset <span style="color: #000066;">:</span>    <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #0000ff;">STD_LOGIC</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            prod <span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">OUT</span> <span style="color: #0000ff;">STD_LOGIC_VECTOR</span><span style="color: #000066;">(</span><span style="color: #ff0000;">2</span>*width-<span style="color: #ff0000;">1</span> <span style="color: #000080; font-weight: bold;">DOWNTO</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">)</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000066;">)</span><span style="color: #000066;">;</span>        </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">COMPONENT</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">FUNCTION</span> to_string<span style="color: #000066;">(</span>sv<span style="color: #000066;">:</span> <span style="color: #0000ff;">Std_Logic_Vector</span><span style="color: #000066;">)</span> <span style="color: #000080; font-weight: bold;">return</span> <span style="color: #0000ff;">string</span> <span style="color: #000080; font-weight: bold;">is</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">USE</span> Std.TextIO.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">USE</span> <span style="color: #0000ff;">ieee</span>.std_logic_textio.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> lp<span style="color: #000066;">:</span> <span style="color: #0000ff;">line</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">      <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            write<span style="color: #000066;">(</span>lp, to_integer<span style="color: #000066;">(</span><span style="color: #0000ff;">unsigned</span><span style="color: #000066;">(</span>sv<span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">RETURN</span> lp.<span style="color: #000080; font-weight: bold;">all</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">      <span style="color: #000080; font-weight: bold;">END</span><span style="color: #000066;">;</span>    </div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    U_wallace_mult<span style="color: #000066;">:</span> wallace_mult</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">GENERIC</span> <span style="color: #000080; font-weight: bold;">MAP</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        width <span style="color: #000066;">=&gt;</span> width</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000066;">)</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">PORT</span> <span style="color: #000080; font-weight: bold;">MAP</span> <span style="color: #000066;">(</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        a <span style="color: #000066;">=&gt;</span> t_a,</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        b <span style="color: #000066;">=&gt;</span> t_b,</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        clk <span style="color: #000066;">=&gt;</span> t_clk,</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        reset <span style="color: #000066;">=&gt;</span> t_reset,</div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        prod <span style="color: #000066;">=&gt;</span> t_p</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #008000; font-style: italic;">-- Clock Process</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    clk_prc<span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">PROCESS</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        t_clk <span style="color: #000066;">&lt;=</span> '<span style="color: #ff0000;">0</span>'<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">WAIT</span> <span style="color: #000080; font-weight: bold;">FOR</span> <span style="color: #ff0000;">5</span> <span style="color: #ff0000;">ns</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        t_clk <span style="color: #000066;">&lt;=</span> '<span style="color: #ff0000;">1</span>'<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">WAIT</span> <span style="color: #000080; font-weight: bold;">FOR</span> <span style="color: #ff0000;">5</span> <span style="color: #ff0000;">ns</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">;</span>    </div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #008000; font-style: italic;">-- Input Processes</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    inp_prc<span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">PROCESS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> v_a<span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">0</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">VARIABLE</span> v_b<span style="color: #000066;">:</span> <span style="color: #0000ff;">INTEGER</span> <span style="color: #000066;">:=</span> <span style="color: #ff0000;">2</span>**<span style="color: #000066;">(</span>width-<span style="color: #ff0000;">1</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">FOR</span> i <span style="color: #000080; font-weight: bold;">IN</span> <span style="color: #ff0000;">0</span> <span style="color: #000080; font-weight: bold;">TO</span> <span style="color: #ff0000;">2</span>**width <span style="color: #000080; font-weight: bold;">LOOP</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            <span style="color: #000080; font-weight: bold;">WAIT</span> <span style="color: #000080; font-weight: bold;">FOR</span> <span style="color: #ff0000;">10</span> <span style="color: #ff0000;">ns</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            v_a <span style="color: #000066;">:=</span> v_a + <span style="color: #ff0000;">1</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            v_b <span style="color: #000066;">:=</span> v_b - i<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            t_a <span style="color: #000066;">&lt;=</span> <span style="color: #0000ff;">std_logic_vector</span><span style="color: #000066;">(</span>to_signed<span style="color: #000066;">(</span>v_a,width<span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">            t_b <span style="color: #000066;">&lt;=</span> <span style="color: #0000ff;">std_logic_vector</span><span style="color: #000066;">(</span>to_signed<span style="color: #000066;">(</span>v_b,width<span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">LOOP</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #008000; font-style: italic;">-- Reset Process</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    rst_prc<span style="color: #000066;">:</span> <span style="color: #000080; font-weight: bold;">PROCESS</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">BEGIN</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        t_reset <span style="color: #000066;">&lt;=</span> '<span style="color: #ff0000;">1</span>'<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">WAIT</span> <span style="color: #000080; font-weight: bold;">FOR</span> <span style="color: #ff0000;">10</span> <span style="color: #ff0000;">ns</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        t_reset <span style="color: #000066;">&lt;=</span> '<span style="color: #ff0000;">0</span>'<span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #000080; font-weight: bold;">WAIT</span><span style="color: #000066;">;</span></div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #000080; font-weight: bold;">END</span> <span style="color: #000080; font-weight: bold;">PROCESS</span><span style="color: #000066;">;</span></div></li><li style="font-weight: bold; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><li style="font-weight: normal; vertical-align:top;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000080; font-weight: bold;">END</span> tb<span style="color: #000066;">;</span></div></li></ol></pre></div></div><br>
<br>
And here's the output waveform:<br>
<br>
<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/77-vhdl-component-wallace-tree-multiplier-generic-wallace_mult_wave.png" border="0" alt=""><br>
<br>
Next, let's take a look at the performance of a 16x16 bit (combinatorial!) version of this Wallace tree multiplier. Using Synplify Pro and choosing Xilinx Virtex2 XC2V40 with CS144 Package and -6 Speed yields the following performance data:<br>
<br>
<br>
<div class="bbcode_container">
	<div class="bbcode_description">Code:</div>
	<pre class="bbcode_code" style="height:252px;">Performance Summary
*******************


Worst slack in design: -1.450

                   Requested     Estimated     Requested     Estimated                Clock        Clock                
Starting Clock     Frequency     Frequency     Period        Period        Slack      Type         Group                
------------------------------------------------------------------------------------------------------------------------
top|clk            108.6 MHz     93.8 MHz      9.207         10.657        -1.450     inferred     Autoconstr_clkgroup_0
========================================================================================================================

---------------------------------------
Resource Usage Report for top

Mapping to part: xc2v40cs144-6
Cell usage:
FD              128 uses
MULT_AND        4 uses
MUXCY           1 use
MUXCY_L         4 uses
MUXF5           2 uses
XORCY           5 uses
LUT1            1 use
LUT2            228 uses
LUT3            216 uses
LUT4            476 uses

I/O ports: 66
I/O primitives: 64
IBUF           32 uses
OBUF           32 uses

BUFGP          1 use

Mapping Summary:
Total  LUTs: 921 (179%)</pre>
</div>This 16x16 bit multiplier may be unsuitable for use in a high-speed FPGA application requiring many multipliers (that's when device specific multipliers should be used). However, a synchronous version of the multiplier (attached) may be useful for lower power and simpler devices that do not have multipliers built in. Here's a look at some layer and delay specifics for this particular multiplier implementation:<br>
<br>
<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/76-vhdl-component-wallace-tree-multiplier-generic-wallace_mult_layer_depth.png" border="0" alt=""><br>
<br>
The layer depth is charted out to 32 bit operands (you'll have to experiment yourself if you are interested in larger operands). The layer depth is a good indicator of how much delay the multiplier would have if it were placed in a pipelined situation. This implementation is "delay fat" so there are actual 2 additional delays on top of the layer depth. You are welcome to play with it to remove the input and output registers.<br>
<br>
Until next time!<br>
<br>
VHDL Coder
						</blockquote>
					</div>

					
						<div class="attachments">

						

						
							<fieldset class="postcontent">
								<legend><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/paperclip.png" class="inlineimg" alt="Attached Images" title="Attached Images"> Attached Images</legend>
								<img class="attach" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/144d1330044949-vhdl-component-wallace-tree-multiplier-generic-wallace_tree_small.png" alt="">&nbsp;<img class="attach" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/76d1318633712-vhdl-component-wallace-tree-multiplier-generic-wallace_mult_layer_depth.png" alt="">&nbsp;<img class="attach" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/77d1318633755-vhdl-component-wallace-tree-multiplier-generic-wallace_mult_wave.png" alt="">&nbsp;
							</fieldset>
						

						

						
							<fieldset class="postcontent">
								<legend><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/paperclip.png" class="inlineimg" alt="Attached Files" title="Attached Files"> Attached Files</legend>
								<ul>
								<li>
	<img class="inlineimg" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/vhd.gif" alt="File Type: vhd" title="File Type: vhd">
	<a href="http://www.openhdl.com/attachments/vhdl/188d1340069210-vhdl-component-wallace-tree-multiplier-generic-wallace_mult_unsigned.vhd">wallace_mult_unsigned.vhd</a> 
(10.4 KB, 251 views)
</li><li>
	<img class="inlineimg" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/vhd.gif" alt="File Type: vhd" title="File Type: vhd">
	<a href="http://www.openhdl.com/attachments/vhdl/79d1318633832-vhdl-component-wallace-tree-multiplier-generic-wallace_mult_signed.vhd">wallace_mult_signed.vhd</a> 
(10.8 KB, 265 views)
</li><li>
	<img class="inlineimg" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/vhd.gif" alt="File Type: vhd" title="File Type: vhd">
	<a href="http://www.openhdl.com/attachments/vhdl/80d1318633833-vhdl-component-wallace-tree-multiplier-generic-wallace_mult_signed_comb.vhd">wallace_mult_signed_comb.vhd</a> 
(10.1 KB, 246 views)
</li><li>
	<img class="inlineimg" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/vhd.gif" alt="File Type: vhd" title="File Type: vhd">
	<a href="http://www.openhdl.com/attachments/vhdl/81d1318633834-vhdl-component-wallace-tree-multiplier-generic-wallace_mult_tb.vhd">wallace_mult_tb.vhd</a> 
(1.7 KB, 256 views)
</li>
								</ul>
							</fieldset>
						

						

						</div>
					<!-- / attachments -->
					
				</div>
			</div>
			
			<div class="after_content">
				
				<!-- edit note -->
				<blockquote class="postcontent lastedited">
					
						Last edited by VHDLCoder; 10-14-2011 at <span class="time">07:14 PM</span>.
					
					
				</blockquote>
				<!-- / edit note -->
				
				
				
					 
				
				
				
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_882" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post882&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post882" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_882" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=882" rel="nofollow" title="Reply With Quote"><img id="quoteimg_882" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

<li class="postbitlegacy postbitim postcontainer old" id="post_936">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">11-20-2011</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post936" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post936" class="postcounter">#2</a><a id="postcount936" name="2"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<span class="username guest">jeevitha</span>
			
			</div>
			<span class="usertitle">
				Guest
			</span>
			
			
			
			 
			
		</div>
		<div class="postbody">
			<div class="postrow">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> 
				</h2>
				


						
						
				<div class="content">
					<div id="post_message_936">
						<blockquote class="postcontent restore ">
							sir/mam, I need to do my project. im new to this dept vhdl n verilog n to wallace. i cudnt get the output for the above prog. In output the prod,add_a, sum is not produced...Can u pls explain me.. Thank u in advance..
						</blockquote>
					</div>

					
				</div>
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_936" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post936&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post936" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_936" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=936" rel="nofollow" title="Reply With Quote"><img id="quoteimg_936" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

<li class="postbitlegacy postbitim postcontainer old" id="post_938">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">11-20-2011</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post938" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post938" class="postcounter">#3</a><a id="postcount938" name="3"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<div class="popupmenu memberaction" id="yui-gen16">
	<a rel="nofollow" class="username offline " href="http://www.openhdl.com/members/vhdlcoder.html" title="VHDLCoder is offline"><strong><span style="color: red;"><b>VHDLCoder</b></span></strong></a>
	
</div>
				<img class="inlineimg onlinestatus" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/user-offline.png" alt="VHDLCoder is offline" border="0" title="VHDLCoder is offline">

			
			</div>
			<span class="usertitle">
				Administrator
			</span>
			
			
			
			 
			
				<hr>
				<dl class="userinfo_extra">
					<dt>Join Date</dt> <dd>Oct 2011</dd>
					
					
					<dt>Posts</dt> <dd>63</dd>	
					<dt>Blog Entries</dt><dd><a href="http://www.openhdl.com/blogs/vhdlcoder/">17</a></dd>
				</dl>
				
				
				<div class="imlinks">
					    
				</div>
			
		</div>
		<div class="postbody">
			<div class="postrow">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> 
				</h2>
				


						
						
				<div class="content">
					<div id="post_message_938">
						<blockquote class="postcontent restore ">
							Hi jeevitha,<br>
<br>
Thanks for trying out my wallace tree multiplier! Perhaps you have identified a bug. Can you explain what version of the code you used (i.e. signed, unsigned, or combinatorial signed)? Were you using the test bench from the original post? What software are you using to synthesize and simulate the multiplier? Are any other signals not working properly?<br>
<br>
Thanks!<br>
<br>
VHDLCoder
						</blockquote>
					</div>

					
				</div>
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_938" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post938&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post938" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_938" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=938" rel="nofollow" title="Reply With Quote"><img id="quoteimg_938" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

<li class="postbitlegacy postbitim postcontainer old" id="post_940">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">11-21-2011</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post940" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post940" class="postcounter">#4</a><a id="postcount940" name="4"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<span class="username guest">jeevitha</span>
			
			</div>
			<span class="usertitle">
				Guest
			</span>
			
			
			
			 
			
		</div>
		<div class="postbody">
			<div class="postrow">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> 
				</h2>
				


						
						
				<div class="content">
					<div id="post_message_940">
						<blockquote class="postcontent restore ">
							hi<br>
  Im using modelsim and xilinx in both i got the same result.  In xilinx its mentioning as "Matrix not supported yet" for the W type array. in modelsim it dint show any error after simulation i dint get the output for add_b, add_sum, and the pro. The last three four bits are undefines inthem. i ve tried to trace the program but i couldnt succeed. <br>
Thank you .
						</blockquote>
					</div>

					
				</div>
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_940" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post940&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post940" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_940" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=940" rel="nofollow" title="Reply With Quote"><img id="quoteimg_940" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

<li class="postbitlegacy postbitim postcontainer old" id="post_942">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">11-21-2011</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post942" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post942" class="postcounter">#5</a><a id="postcount942" name="5"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<div class="popupmenu memberaction" id="yui-gen17">
	<a rel="nofollow" class="username offline " href="http://www.openhdl.com/members/vhdlcoder.html" title="VHDLCoder is offline"><strong><span style="color: red;"><b>VHDLCoder</b></span></strong></a>
	
</div>
				<img class="inlineimg onlinestatus" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/user-offline.png" alt="VHDLCoder is offline" border="0" title="VHDLCoder is offline">

			
			</div>
			<span class="usertitle">
				Administrator
			</span>
			
			
			
			 
			
				<hr>
				<dl class="userinfo_extra">
					<dt>Join Date</dt> <dd>Oct 2011</dd>
					
					
					<dt>Posts</dt> <dd>63</dd>	
					<dt>Blog Entries</dt><dd><a href="http://www.openhdl.com/blogs/vhdlcoder/">17</a></dd>
				</dl>
				
				
				<div class="imlinks">
					    
				</div>
			
		</div>
		<div class="postbody">
			<div class="postrow">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> 
				</h2>
				


						
						
				<div class="content">
					<div id="post_message_942">
						<blockquote class="postcontent restore ">
							Hi jeevitha,<br>
<br>
I may understand what is happening with the modelsim simulation. The multiplier has a separate entity called 'bk_adder' which is a type of carry tree adder to add the final two vectors of the Wallace carry save adder tree. Try compiling the wallace_mult and wallace_mult_tb first, then you may see a new entity 'bk_adder' appear in your workspace in ModelSim. Then, recompile all 3 entities and try the simulation again. I noticed that in the way the code is written, ModelSim may give the error:<br>
<br>
"** Warning: (vsim-3473) Component 'u_bk_add' is not bound."<br>
<br>
Recompiling again after compiling bk_adder will remedy this.<br>
<br>
As for the Xilinx ISE, you may need to adjust some of your compiler settings to get it to accept multi-dimensional arrays in VHDL.<br>
<br>
Good luck!<br>
<br>
VHDLCoder
						</blockquote>
					</div>

					
				</div>
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_942" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post942&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post942" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_942" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=942" rel="nofollow" title="Reply With Quote"><img id="quoteimg_942" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

<li class="postbitlegacy postbitim postcontainer old" id="post_943">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">11-21-2011</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post943" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post943" class="postcounter">#6</a><a id="postcount943" name="6"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<span class="username guest">gorand2</span>
			
			</div>
			<span class="usertitle">
				Guest
			</span>
			
			
			
			 
			
		</div>
		<div class="postbody">
			<div class="postrow">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> Hi
				</h2>
				


						
						
				<div class="content">
					<div id="post_message_943">
						<blockquote class="postcontent restore ">
							Hi VHDLCoder<br>
I have looked at wallace_mult_signed.vhd&#8206;<br>
It seems that it always assumes one of the numbers is negative and the other positive, and doesn't work if this is not the case. Is that correct?<br>
Also i would like to ask if you know a book describing how to implement signed wallace tree multiplier.
						</blockquote>
					</div>

					
				</div>
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_943" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post943&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post943" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_943" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=943" rel="nofollow" title="Reply With Quote"><img id="quoteimg_943" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

<li class="postbitlegacy postbitim postcontainer old" id="post_944">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">11-21-2011</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post944" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post944" class="postcounter">#7</a><a id="postcount944" name="7"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<div class="popupmenu memberaction" id="yui-gen18">
	<a rel="nofollow" class="username offline " href="http://www.openhdl.com/members/vhdlcoder.html" title="VHDLCoder is offline"><strong><span style="color: red;"><b>VHDLCoder</b></span></strong></a>
	
</div>
				<img class="inlineimg onlinestatus" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/user-offline.png" alt="VHDLCoder is offline" border="0" title="VHDLCoder is offline">

			
			</div>
			<span class="usertitle">
				Administrator
			</span>
			
			
			
			 
			
				<hr>
				<dl class="userinfo_extra">
					<dt>Join Date</dt> <dd>Oct 2011</dd>
					
					
					<dt>Posts</dt> <dd>63</dd>	
					<dt>Blog Entries</dt><dd><a href="http://www.openhdl.com/blogs/vhdlcoder/">17</a></dd>
				</dl>
				
				
				<div class="imlinks">
					    
				</div>
			
		</div>
		<div class="postbody">
			<div class="postrow">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> 
				</h2>
				


						
						
				<div class="content">
					<div id="post_message_944">
						<blockquote class="postcontent restore ">
							Hi gorand2,<br>
<br>
The input process uses the "engineering approach" to signed binary multiplication that you can read more about at <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;en.wikipedia.org&#39;, &#39;/wiki/Multiplication_ALU&#39;]);" rel="nofollow" href="http://en.wikipedia.org/wiki/Multiplication_ALU" target="_blank">Wikipedia</a>. Both multiplicands can be signed and here's a section of the simulation of the signed synchronous wallace tree multiplier implementation where the multiplicands are alternating negative and positive.<br>
<br>
<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/92d1321916497-vhdl-component-wallace-tree-multiplier-generic-wallace_neg.png" border="0" alt="Name:  wallace_neg.png
Views: 2615
Size:  95.3 KB" style="float: CONFIG" title="Name:  wallace_neg.png
Views: 2615
Size:  95.3 KB"><br>
<br>
I'd have to look through my material to see if there are any specific examples of implementing a Wallace tree multiplier. I am not sure if I have seen an example of one in a book.<br>
<br>
Hope that helps!<br>
<br>
VHDLCoder
						</blockquote>
					</div>

					
				</div>
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_944" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post944&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post944" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_944" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=944" rel="nofollow" title="Reply With Quote"><img id="quoteimg_944" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

<li class="postbitlegacy postbitim postcontainer old" id="post_1354">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">11-27-2012</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post1354" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post1354" class="postcounter">#8</a><a id="postcount1354" name="8"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<div class="popupmenu memberaction" id="yui-gen19">
	<a rel="nofollow" class="username offline " href="http://www.openhdl.com/members/devesh.html" title="DEVESH is offline"><strong><span style="color: green;">DEVESH</span></strong></a>
	
</div>
				<img class="inlineimg onlinestatus" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/user-offline.png" alt="DEVESH is offline" border="0" title="DEVESH is offline">

			
			</div>
			<span class="usertitle">
				New Member
			</span>
			
			
			
			 
			
				<hr>
				<dl class="userinfo_extra">
					<dt>Join Date</dt> <dd>Nov 2012</dd>
					
					
					<dt>Posts</dt> <dd>4</dd>	
					
				</dl>
				
				
				<div class="imlinks">
					    
				</div>
			
		</div>
		<div class="postbody">
			<div class="postrow">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> 
				</h2>
				


						
						
				<div class="content">
					<div id="post_message_1354">
						<blockquote class="postcontent restore ">
							sir i am trying to write vhdl code for logarithmic multiplier.. i am in need help in this
						</blockquote>
					</div>

					
				</div>
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_1354" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post1354&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post1354" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_1354" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=1354" rel="nofollow" title="Reply With Quote"><img id="quoteimg_1354" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

<li class="postbitlegacy postbitim postcontainer old" id="post_1357">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">11-28-2012</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post1357" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post1357" class="postcounter">#9</a><a id="postcount1357" name="9"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<div class="popupmenu memberaction" id="yui-gen20">
	<a rel="nofollow" class="username offline " href="http://www.openhdl.com/members/vhdlcoder.html" title="VHDLCoder is offline"><strong><span style="color: red;"><b>VHDLCoder</b></span></strong></a>
	
</div>
				<img class="inlineimg onlinestatus" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/user-offline.png" alt="VHDLCoder is offline" border="0" title="VHDLCoder is offline">

			
			</div>
			<span class="usertitle">
				Administrator
			</span>
			
			
			
			 
			
				<hr>
				<dl class="userinfo_extra">
					<dt>Join Date</dt> <dd>Oct 2011</dd>
					
					
					<dt>Posts</dt> <dd>63</dd>	
					<dt>Blog Entries</dt><dd><a href="http://www.openhdl.com/blogs/vhdlcoder/">17</a></dd>
				</dl>
				
				
				<div class="imlinks">
					    
				</div>
			
		</div>
		<div class="postbody">
			<div class="postrow">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> 
				</h2>
				


						
						
				<div class="content">
					<div id="post_message_1357">
						<blockquote class="postcontent restore ">
							Hi devesh,<br>
<br>
Did you see my article for logarithms? You can find it here:<br>
<br>
<a href="http://www.openhdl.com/blogs/vhdlcoder/37-vhdl-component-generic-log-base-n-logarithm-function-synthesizable.html" target="_blank">http://www.openhdl.com/blogs/vhdlcod...hesizable.html</a><br>
<br>
Does that help? It will compute logarithms in VHDL given any base and any input of your desired size.
						</blockquote>
					</div>

					
				</div>
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_1357" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post1357&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post1357" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_1357" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=1357" rel="nofollow" title="Reply With Quote"><img id="quoteimg_1357" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

<li class="postbitlegacy postbitim postcontainer old" id="post_1367">
<!-- see bottom of postbit.css for .userinfo .popupmenu styles -->

	<div class="posthead">
			<span class="postdate old">
				
					<span class="date">01-23-2013</span>
				
			</span>
			<span class="nodecontrols">
				
					<a name="post1367" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#post1367" class="postcounter">#10</a><a id="postcount1367" name="10"></a>
				
				
				
			</span>
	</div>
	<div class="postdetails">
		<div class="userinfo">
			<div class="username_container">
			
				<div class="popupmenu memberaction" id="yui-gen21">
	<a rel="nofollow" class="username offline " href="http://www.openhdl.com/members/srinivas.html" title="srinivas is offline"><strong><span style="color: green;">srinivas</span></strong></a>
	
</div>
				<img class="inlineimg onlinestatus" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/user-offline.png" alt="srinivas is offline" border="0" title="srinivas is offline">

			
			</div>
			<span class="usertitle">
				New Member
			</span>
			
			
			
			 
			
				<hr>
				<dl class="userinfo_extra">
					<dt>Join Date</dt> <dd>Dec 2012</dd>
					
					
					<dt>Posts</dt> <dd>4</dd>	
					
				</dl>
				
				
				<div class="imlinks">
					    
				</div>
			
		</div>
		<div class="postbody">
			<div class="postrow">
				
				
				<h2 class="title icon">
					<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/icon1.png" alt="Default" title="Default"> 
				</h2>
				


						
						
							
						
				<div class="content">
					<div id="post_message_1367">
						<blockquote class="postcontent restore ">
							hello sir, i tried your generic modified wallace tree combinational multplier in xlinx ISE and i got the synthesised result but lots of warnings are coming, and in test bench it is not getting the exact output<br>
and we want to extend the length of the multplier for that we placed 8 in width of the above code, is it enough or any other changes to made?
						</blockquote>
					</div>

					
				</div>
			</div>
			
			<div class="cleardiv"></div>
		</div>
	</div>
		<div class="postfoot">
			<!-- <div class="postfoot_container"> -->
			<div class="textcontrols floatcontainer">
				<span class="postcontrols">
					<img style="display:none" id="progress_1367" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/progress.gif" alt="">
					<div style="float:left"><a rel="nofollow" href="http://digg.com/submit?phase=2&url=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post1367&title=VHDL+Component%3A+Wallace+Tree+Multiplier+%28Generic%29" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/digg.gif" alt="Digg this Post!" border="0" title="Digg this Post!"></a><a rel="nofollow" href="http://technorati.com/faves/?add=http%3A%2F%2Fwww.openhdl.com%2Fvhdl%2F655-vhdl-component-wallace-tree-multiplier-generic.html%23post1367" target="_blank"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/technorati.gif" alt="Bookmark Post in Technorati" border="0" title="Bookmark Post in Technorati"></a></div>

					
					
						<a id="qrwq_1367" class="newreply" href="http://www.openhdl.com/newreply.php?do=newreply&p=1367" rel="nofollow" title="Reply With Quote"><img id="quoteimg_1367" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/clear.gif" alt="Reply With Quote" title="Reply With Quote">  Reply With Quote</a> 
					
					
					
				</span>
				<span class="postlinking">
					
						
					

					
					
					
					

					
					

					
					
					
					
					
				</span>
			<!-- </div> -->
			</div>
		</div>
	<hr>
</li>

		</ol>
</div>
<div class="bottomBar"><div class="bottomBarLeft"><div class="bottomBarRight">&nbsp;</div></div></div>
		<br>&nbsp;
                <div class="separator"></div>
		<div class="postlistfoot">
			
		</div>

	

</div>

<div id="below_postlist" class="noinlinemod below_postlist">
	
	<div id="pagination_bottom" class="pagination_bottom">
	
		<form action="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic-2.html" method="get" class="pagination popupmenu nohovermenu" id="yui-gen22">
<input type="hidden" name="t" value="655">
	
		<span><a href="javascript://" class="popupctrl" id="yui-gen24">Page 1 of 2</a></span>
		
		
		
		<span class="selected"><a href="javascript://" title="Results 1 to 10 of 20">1</a></span><span><a href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic-2.html" title="Show results 11 to 20 of 20">2</a></span>
		
		
		<span class="prev_next"><a rel="next" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic-2.html" title="Next Page - Results 11 to 20 of 20"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/next-right.png" alt="Next" title="Next"></a></span>
		
		
		<span class="first_last"><a href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic-2.html" title="Last Page - Results 11 to 20 of 20">Last<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/last-right.png" alt="Last" title="Last"></a></span>
		
	
	<ul class="popupbody" id="yui-gen23">
		<li class="formsubmit jumptopage"><label>Jump to page: <input type="text" name="page" size="4"></label> <input type="submit" class="button" value="Go"></li>
	</ul>
</form>
	
		
	</div>
</div>








	<!-- next / previous links -->
	<div class="navlinks">
		
			<strong>«</strong>
			<a href="http://www.openhdl.com/vhdl/651-vhdl-component-kogge-stone-adder-generic.html">VHDL Component: Kogge-Stone Adder (Generic)</a>
			|
			<a href="http://www.openhdl.com/vhdl/1023-booth-multiplier.html">booth multiplier</a>
			<strong>»</strong>
		
	</div>
	<!-- / next / previous links -->

<div id="thread_info" class="thread_info block">
	
	
<script type="text/javascript" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/vbseo_ajax.js"></script>
<script type="text/javascript">
<!--
vbphrase['vbseo_mod_approve'] = "LinkBack awaiting moderation. Double-click this icon to approve.";
vbphrase['vbseo_mod_unapprove'] = "Double-click this icon to unapprove.";
vbphrase['vbseo_mod_delete'] = "Double-click this icon to delete linkback.";

dblhandled = false
//-->
</script>


	<div id="linkbacklist">
		<h4 class="threadinfohead">
			<span class="optiontitle">
				
					<a name="linkbacks"></a>LinkBacks (<a rel="nofollow" href="http://www.openhdl.com/misc.php?do=linkbacks" title="Links from elsewhere to this discussion (Pingbacks, Trackbacks or Refbacks)">?</a>)
				
			</span>
		</h4>
		<div class="thread_info_block">
			<ol class="similar_threads">
				<li class="floatcontainer" id="linkback_237">
        <div class="titleblock">
                <h6 id="linkbacktitle_237" ondblclick="if(!dblhandled) vbseo_linkback_ondblclick(this);dblhandled=false;">
                        
                       <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;forum.allaboutcircuits.com&#39;, &#39;/showthread.php?p=410306&#39;]);" rel="nofollow" id="linkback_title_237" href="http://forum.allaboutcircuits.com/showthread.php?p=410306">VHDL code for 32 bit wallace tree multiplier please..... - All About Circuits Forum</a>
                </h6>
                <div class="starter_forum">
                        Refback  <a href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/VHDL Component  Wallace Tree Multiplier (Generic).html">This thread</a>
                </div>
        </div>
        <div class="dateblock">
                
                <div class="starter_forum">
                        11-15-2011, <span class="time">12:42 PM</span>
                </div>
        </div>
</li>
 <li class="floatcontainer" id="linkback_236">
        <div class="titleblock">
                <h6 id="linkbacktitle_236" ondblclick="if(!dblhandled) vbseo_linkback_ondblclick(this);dblhandled=false;">
                        
                       <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;forum.allaboutcircuits.com&#39;, &#39;/showthread.php?s=988046183c1db3e295f5453aa9603483&amp;t=4150&#39;]);" rel="nofollow" id="linkback_title_236" href="http://forum.allaboutcircuits.com/showthread.php?s=988046183c1db3e295f5453aa9603483&t=4150">VHDL code for 32 bit wallace tree multiplier please..... - All About Circuits Forum</a>
                </h6>
                <div class="starter_forum">
                        Refback  <a href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/VHDL Component  Wallace Tree Multiplier (Generic).html">This thread</a>
                </div>
        </div>
        <div class="dateblock">
                
                <div class="starter_forum">
                        10-28-2011, <span class="time">02:02 AM</span>
                </div>
        </div>
</li>
 <li class="floatcontainer" id="linkback_235">
        <div class="titleblock">
                <h6 id="linkbacktitle_235" ondblclick="if(!dblhandled) vbseo_linkback_ondblclick(this);dblhandled=false;">
                        
                       <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;forum.allaboutcircuits.com&#39;, &#39;/showthread.php?s=f029c2a8f1f588d64c750f2abe6b9092&amp;t=4150&#39;]);" rel="nofollow" id="linkback_title_235" href="http://forum.allaboutcircuits.com/showthread.php?s=f029c2a8f1f588d64c750f2abe6b9092&t=4150">VHDL code for 32 bit wallace tree multiplier please..... - All About Circuits Forum</a>
                </h6>
                <div class="starter_forum">
                        Refback  <a href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/VHDL Component  Wallace Tree Multiplier (Generic).html">This thread</a>
                </div>
        </div>
        <div class="dateblock">
                
                <div class="starter_forum">
                        10-26-2011, <span class="time">01:49 AM</span>
                </div>
        </div>
</li>
 <li class="floatcontainer" id="linkback_234">
        <div class="titleblock">
                <h6 id="linkbacktitle_234" ondblclick="if(!dblhandled) vbseo_linkback_ondblclick(this);dblhandled=false;">
                        
                       <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;forum.allaboutcircuits.com&#39;, &#39;/showthread.php?t=4150&#39;]);" rel="nofollow" id="linkback_title_234" href="http://forum.allaboutcircuits.com/showthread.php?t=4150">VHDL code for 32 bit wallace tree multiplier please..... - All About Circuits Forum</a>
                </h6>
                <div class="starter_forum">
                        Refback  <a href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/VHDL Component  Wallace Tree Multiplier (Generic).html">This thread</a>
                </div>
        </div>
        <div class="dateblock">
                
                <div class="starter_forum">
                        10-18-2011, <span class="time">02:25 AM</span>
                </div>
        </div>
</li>
 <li class="floatcontainer" id="linkback_233">
        <div class="titleblock">
                <h6 id="linkbacktitle_233" ondblclick="if(!dblhandled) vbseo_linkback_ondblclick(this);dblhandled=false;">
                        
                       <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;www.velocityreviews.com&#39;, &#39;/forums/t22780-vhdl-code-for-multiplier.html&#39;]);" rel="nofollow" id="linkback_title_233" href="http://www.velocityreviews.com/forums/t22780-vhdl-code-for-multiplier.html">VHDL code for multiplier</a>
                </h6>
                <div class="starter_forum">
                        Refback  <a href="./VHDL Component  Wallace Tree Multiplier (Generic)_files/VHDL Component  Wallace Tree Multiplier (Generic).html">This thread</a>
                </div>
        </div>
        <div class="dateblock">
                
                <div class="starter_forum">
                        10-17-2011, <span class="time">02:38 PM</span>
                </div>
        </div>
</li>
 
			</ol>
		</div>
	</div>

 <br>
	
	
	
	
	<div class="options_block_container">
		
		<div class="options_block">
			<h4 class="collapse blockhead options_correct">
				<a class="collapse" id="collapse_posting_rules" href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#top"><img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/collapse_40b.png" alt=""></a>
				Posting Permissions
			</h4>
			<div id="posting_rules" class="thread_info_block blockbody formcontrols floatcontainer options_correct">
				
<div id="forumrules" class="info_subblock">

	<ul class="youcandoblock">
		<li>You <strong>may not</strong> post new threads</li>
		<li>You <strong>may not</strong> post replies</li>
		<li>You <strong>may not</strong> post attachments</li>
		<li>You <strong>may not</strong> edit your posts</li>
		<li>&nbsp;</li>
	</ul>
	<div class="bbcodeblock">
		<ul>
			<li><a rel="nofollow" href="http://www.openhdl.com/misc.php?do=bbcode" target="_blank">BB code</a> is <strong>On</strong></li>
			<li><a rel="nofollow" href="http://www.openhdl.com/misc.php?do=showsmilies" target="_blank">Smilies</a> are <strong>On</strong></li>
			<li><a rel="nofollow" href="http://www.openhdl.com/misc.php?do=bbcode#imgcode" target="_blank">[IMG]</a> code is <strong>On</strong></li>
			<li><a rel="nofollow" href="http://www.openhdl.com/misc.php?do=bbcode#videocode" target="_blank">[VIDEO]</a> code is <strong>On</strong></li>
			<li>HTML code is <strong>Off</strong></li>
<li><a rel="nofollow" href="http://www.openhdl.com/misc.php?do=linkbacks#trackbacks" target="_blank">Trackbacks</a> are <strong>On</strong></li>
<li><a rel="nofollow" href="http://www.openhdl.com/misc.php?do=linkbacks#pingbacks" target="_blank">Pingbacks</a> are <strong>On</strong></li>
<li><a rel="nofollow" href="http://www.openhdl.com/misc.php?do=linkbacks#refbacks" target="_blank">Refbacks</a> are <strong>On</strong></li>
		</ul>
	</div>
	<p class="rules_link"><a rel="nofollow" href="http://www.openhdl.com/misc.php?do=showrules" target="_blank">Forum Rules</a></p>

</div>

			</div>
		</div>
	</div>
</div>





<!-- lightbox scripts -->
	<script type="text/javascript">
	<!--
	vBulletin.register_control("vB_Lightbox_Container", "posts", 1);
	//-->
	</script>
<!-- / lightbox scripts -->




<div style="clear: left">
   
   
</div>

<div id="footer" class="floatcontainer footer">
	
	
	
	<script type="text/javascript">
	<!--
		// Main vBulletin Javascript Initialization
		vBulletin_init();
	//-->
	</script>
        
</div>
</div> <!-- closing div for body_wrapper -->
<div class="below_body">
 

	<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/xd_arbiter.html" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/xd_arbiter(1).html" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="f21a34f55" frameborder="0" allowtransparency="true" scrolling="no" src="about:blank" style="display: none !important; visibility: hidden !important; opacity: 0 !important;" width="0" height="0"></iframe></div></div></div>
<script type="text/javascript" src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/vbulletin_facebook.js"></script>

<script type="text/javascript">
<!--
	loadFacebookAPI('en_US');
	function fbAsyncInit()
	{
		vBfb = new vB_Facebook({
			appid : "106570509469266",
			connected : 0,
			active : 0,
			autoreg : 1,
			feed_newthread : 1,
			feed_postreply : 1,
			feed_blogentry : 1,
			feed_blogcomment : 1,
			feed_newarticle : 1,
			feed_articlecomment : 1
		});
	}
// -->
</script>

</div>


<!-- Custom Content Wrap -->
</div></div>



	<div id="footerMain" class="clearfix"><div class="pageWrap">
		<div class="copyright">
			All times are GMT -4. The time now is <span class="time">09:34 AM</span>.<br>
<div>
	<!-- Do not remove this copyright notice -->
	Powered by <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;www.vbulletin.com&#39;, &#39;&#39;]);" rel="nofollow" href="https://www.vbulletin.com/" id="vbulletinlink">vBulletin®</a> Version 4.2.0 <br>Copyright © 2013 vBulletin Solutions, Inc. All rights reserved. 
	
<br>Content Relevant URLs by <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;www.crawlability.com&#39;, &#39;/vbseo/&#39;]);" rel="nofollow" href="http://www.crawlability.com/vbseo/">vBSEO</a> 3.5.2<!-- Do not remove this copyright notice -->	
</div>
<div>
	<!-- Do not remove cronimage or your scheduled tasks will cease to function -->
	<img src="./VHDL Component  Wallace Tree Multiplier (Generic)_files/cron.php" alt="" width="1" height="1" border="0">
	<!-- Do not remove cronimage or your scheduled tasks will cease to function -->
	United-Forum: <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;www.united-forum.de&#39;, &#39;&#39;]);" rel="nofollow" href="http://www.united-forum.de/" target="_blank">CSS-Sprites</a>
	
</div>

			<br>
			<strong>vBulletin Skin</strong> By: <a onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;Outgoing&#39;, &#39;www.purevb.com&#39;, &#39;&#39;]);" rel="nofollow" href="http://www.purevb.com/" target="_blank">PurevB.com</a>	
		
		</div>

	</div></div>
	<div id="footerBar"><div class="pageWrap">
<div class="skinSelect">
	<form action="http://www.openhdl.com/forum/" method="get" id="footer_select" class="footer_select">

		
			<select name="styleid" onchange="switch_id(this, &#39;style&#39;)">
				<optgroup label="Quick Style Chooser"><option class="hidden"></option></optgroup>
				
					
					<optgroup label=" Standard Styles">
									
					<option value="8" class="" selected="selected">-- OpenHDL Red</option>
					
					</optgroup>
										
				
				
					
					<optgroup label=" Mobile Styles">
					
					<option value="6" class="">-- Default Mobile Style</option>
					
					</optgroup>
										
				
			</select>	
		
		
		
	</form>
</div>
		<div class="footerLinks">
	<ul>
		<li><a href="http://www.openhdl.com/sendmessage.php" rel="nofollow" accesskey="9">Contact Us</a></li>
		<li><a href="http://openhdl.com/">OpenHDL - Verilog and VHDL Discussion Forums</a></li>
		
		
		<li><a href="http://www.openhdl.com/sitemap/">Archive</a></li>
		
		
		
		<li><a href="http://www.openhdl.com/vhdl/655-vhdl-component-wallace-tree-multiplier-generic.html#top" onclick="document.location.hash=&#39;top&#39;; return false;">Top</a></li>
	</ul>
		</div>
		
	</div></div>


</div>	
<!-- Custom Content Wrap End -->

<script type="text/javascript">
//<![CDATA[

var vbseo_jshtml = new Array();
vbseo_jshtml[0] = "<ol>			<li class=\"restore\" id=\"navbar_notice_1\">		Welcome to the <b>OpenHDL Forums</b> - Verilog and VHDL Discussion Forums.<br><br>OpenHDL is a newly established community for the development of all in the challenging profession of hardware description using common HDL\'s such as VHDL and Verilog. You are currently using our site as a guest which means you can\'t access all of our features like <a href=\"http://www.openhdl.com/faq.php\" target=\"_blank\">hdl search</a>, <a href=\"http://www.openhdl.com/faq.php\" target=\"_blank\">hardware photo galleries</a>, <a href=\"http://www.openhdl.com/faq.php\" target=\"_blank\">events calendar</a> and more. By joining our <b>free</b> community you will have access to all of these features as well as participating in our community forums, contacting members and much more. Registration takes only <b>1</b> minute and the OpenHDL Forum is absolutely free, so please <a href=\"http://www.openhdl.com/register.php\" target=\"_blank\"><b>join our community today</b></a>!<br><br>If you have any problems with the registration process or your account login, <a href=\"http://www.openhdl.com/sendmessage.php\" target=\"_blank\">contact us</a>.</li>		</ol>";

for(var vi=0;vi<vbseo_jshtml.length;vi++)
if(fetch_object("vbseo_vhtml_"+vi))fetch_object("vbseo_vhtml_"+vi).innerHTML = vbseo_jshtml[vi];

window.orig_onload = window.onload;
window.onload = function() {
var cpost=document.location.hash.substring(1);var cpost2='';if(cpost){ var ispost=cpost.substring(0,4)=='post';if(ispost)cpost2='post_'+cpost.substring(4);if((cobj = fetch_object(cpost))||(cobj = fetch_object(cpost2))){cobj.scrollIntoView(true);}else if(ispost){cpostno = cpost.substring(4,cpost.length);if(parseInt(cpostno)>0){location.replace('http://www.openhdl.com/showthread.php?p='+cpostno);};} }

if(typeof window.orig_onload == "function") window.orig_onload();
}

//]]>
</script>

<img id="feedlyMiniIcon" title="feedly mini" width="36" height="36" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAK7SURBVHja7Jk/TxphHMe/5wGDJuCtoiQsMsuABN9AibHGMndoYxpiTRsYHHShaZvGGqVN/9KBN3CLKyODASOksWlDQUn6Bkxkk7T67cKZErgT7o9Aer/kOxDI83w+xz0Pz/0QSGKUawwjXraALWAL2AK2wP8tAJKqMVCrAH4C+APgB4D7VvCRtERgGwC75NkoCOyowCt5PswCN8EreTGMArs9wit5OTCBLp/Z6xNeyauBCgAQAKTVAN1uN1OpFMfHxw1JWCLQgn+rBubxeHhwcECSzOfznJiY0JLYvu010DO8UrIs33Q7vb4tAQHAOy34QqHQBt9sNhmLxXpZEztWCwgA3mvBF4vFDviVlZV+FvauVQICgA9a8IeHh0bhleyZLSAA+KQ24eTkJI+Ojjrgl5eXqXN7ZWt3E8wQEAB87hd+aWnJCLySN2YIJNQmkCSJpVJJFT4UCvH4+Jhzc3NGJOJGBX6pwZfL5Q74xcVFAuD8/DzPz89JkmdnZwwGg3oFakYFug68tbXVAR+NRgmA4XD4Gl6pXC6nV6BpVOB7t4FdLhf39/dJkhcXF9fwkUikA/709JQzMzN6Bb4ZFYgBuOo2uNPpZDAYpM/nu4ZvNBpt8CcnJ5yentYLfwXgnhnb6FM1CSULCwsd8LVazSj8upk/ZE+0JNLpdBt8tVql1+s1Ar9mxVFiXU3C5XJRlmWSZKVS4dTUFAHQ7/frgY9beZhTlRAEgZIk0eFwEAA3NzdJkslkUje8VcfptZvWxMbGRtstlUgkeoF/pOc0OqajS/ARwOPWxF1rdna27XUgENAcsgX/5VYaW/+8F1f7JkRRZDabZb1eZyaToSiKWld+dWAP9a0rd6Vzt7kE8HAY2ip6JC4BPBimvtBdAF9bvVAt8N8ASgDumNUXEuy/WW0BW8AWsAVsgVGuvwMA8vh2EBI89HgAAAAASUVORK5CYII=" style="position: fixed; bottom: 20px; right: 20px; cursor: pointer; border: 0px; -webkit-transition: opacity 0.5s ease; transition: opacity 0.5s ease; visibility: visible; width: 36px; height: 36px; max-height: 36px; max-width: 36px; overflow: hidden; display: block; padding: 0px; opacity: 0.15;"><script id="hiddenlpsubmitdiv" style="display: none;"></script><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ d.innerText=i; } } d.dispatchEvent(customEvent); form.lpsubmitorig2(); } } }}catch(e){}</script></body></html>